<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.21.2 -->
<document source="/Users/sarinacanelake/static-clones/edx-platform/docs/references/docs/openedx/core/djangoapps/waffle_utils/docs/decisions/0003-leave-course-waffle-flag.rst" translation_progress="{'total': 0, 'translated': 0}" xmlns:c="https://www.sphinx-doc.org/" xmlns:changeset="https://www.sphinx-doc.org/" xmlns:citation="https://www.sphinx-doc.org/" xmlns:cpp="https://www.sphinx-doc.org/" xmlns:http="https://www.sphinx-doc.org/" xmlns:index="https://www.sphinx-doc.org/" xmlns:js="https://www.sphinx-doc.org/" xmlns:math="https://www.sphinx-doc.org/" xmlns:py="https://www.sphinx-doc.org/" xmlns:rst="https://www.sphinx-doc.org/" xmlns:std="https://www.sphinx-doc.org/">
    <section ids="leave-coursewaffleflag" names="leave\ coursewaffleflag">
        <title>Leave CourseWaffleFlag</title>
        <section ids="status" names="status">
            <title>Status</title>
            <paragraph>Accepted</paragraph>
        </section>
        <section ids="context" names="context">
            <title>Context</title>
            <paragraph>It was decided in 0002-waffle-utils-extraction to remove waffle_utils to the shared library edx-toggles.  However, moving the class CourseWaffleFlag would be complicated due to its model data, and it is unclear how much usage it would get in other IDAs.</paragraph>
        </section>
        <section ids="decision" names="decision">
            <title>Decision</title>
            <paragraph>It has been decided to leave CourseWaffleFlag inside edx-platform for the time being, and to delay its extraction until the work seems warranted (i.e. another IDA actually wants to make use of it).</paragraph>
        </section>
        <section ids="consequences" names="consequences">
            <title>Consequences</title>
            <bullet_list bullet="*">
                <list_item>
                    <paragraph>The toggle state endpoint will need to be updated to allow WaffleFlag subclasses to add state data.</paragraph>
                </list_item>
            </bullet_list>
        </section>
        <section ids="rejected-alternative" names="rejected\ alternative">
            <title>Rejected Alternative</title>
            <paragraph>The alternative would be to extract CourseWaffleFlag to the shared library.  As noted, this can be decided in the future. If extraction were to be pursued, some things to consider would be:</paragraph>
            <bullet_list bullet="*">
                <list_item>
                    <paragraph>Ensuring course override data is properly migrated from the old to new method of defining course overrides. It is possible that this migration would need to be documented and maintained for the Open edX release as well.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Given the data migration needed, it might be practical to migrate course override data from a ConfigurationModel to a Django Setting (using remote config) before extraction.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>The toggle state report uses the term <title_reference>course_id</title_reference> for the course overrides, but this is actually a <title_reference>course_run_id</title_reference> in the context of other IDAs. Will its name be configurable per IDA?</paragraph>
                </list_item>
            </bullet_list>
        </section>
    </section>
</document>
