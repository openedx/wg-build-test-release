<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.21.2 -->
<document source="/Users/sarinacanelake/static-clones/edx-platform/docs/references/docs/openedx/core/djangoapps/external_user_ids/docs/decisions/0001-externalid.rst" translation_progress="{'total': 0, 'translated': 0}" xmlns:c="https://www.sphinx-doc.org/" xmlns:changeset="https://www.sphinx-doc.org/" xmlns:citation="https://www.sphinx-doc.org/" xmlns:cpp="https://www.sphinx-doc.org/" xmlns:http="https://www.sphinx-doc.org/" xmlns:index="https://www.sphinx-doc.org/" xmlns:js="https://www.sphinx-doc.org/" xmlns:math="https://www.sphinx-doc.org/" xmlns:py="https://www.sphinx-doc.org/" xmlns:rst="https://www.sphinx-doc.org/" xmlns:std="https://www.sphinx-doc.org/">
    <section ids="record-external-id-table-decision" names="record\ external\ id\ table\ decision">
        <title>Record External ID Table Decision</title>
        <section ids="status" names="status">
            <title>Status</title>
            <paragraph>Accepted</paragraph>
        </section>
        <section ids="context" names="context">
            <title>Context</title>
            <paragraph>Third Parties at times require a unique user ID as part of the data that they can
                access about a Learner. We would like to avoid sending them internal IDs
                to protect our internal data models.</paragraph>
            <paragraph>We also have Hash IDs that are used for some reporting and other external sources as
                part of the anonymous ID table.  The use case of the anonymous ID table is to provide
                anonymous user identifiers. The External ids will be shared with identifiable
                information and are therefore not anonymous.</paragraph>
            <paragraph>ExternalIdType defines the type (purpose, or expected use) of an external id. A
                user may have one id that is sent to Company A and another that is sent to Company B.</paragraph>
            <paragraph>External ids are sent to systems or companies outside of Open edX. This allows us
                to limit the exposure of any given id.</paragraph>
            <paragraph>An external id is linked to an internal id, so that users may be re-identified if the external id is sent
                back to Open edX.</paragraph>
        </section>
        <section ids="decisions" names="decisions">
            <title>Decisions</title>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph>External ids will be UUIDs.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Users will only have exactly 1 external id per ExternalIDType.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>All Types will have a clear description in the ExternalIDType table so that we can later determine why this type was created. If the type was created to send to Company A, the description can help determine if ids of this type may also be sent to Company B</paragraph>
                </list_item>
                <list_item>
                    <paragraph>All ExternalIDTypes should be easily referenced in the platform to support getting User information based on External ids.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>We will add an External id table to support different types of generated UUIDs.</paragraph>
                </list_item>
            </bullet_list>
        </section>
        <section ids="consequences" names="consequences">
            <title>Consequences</title>
            <paragraph>We will have a clear unique ID to share with external entities that can reference
                an internal User. All external entities should have their own type so that Users
                can have multiple External ids, 1 per type.</paragraph>
        </section>
        <section ids="references" names="references">
            <title>References</title>
            <paragraph>Model definition
                - <reference refuri="https://github.com/openedx/edx-platform/blob/a5ec801a2a91f928bf582ee9ba2092a5bfbe7d7e/openedx/core/djangoapps/external_user_ids/models.py#L17">https://github.com/openedx/edx-platform/blob/a5ec801a2a91f928bf582ee9ba2092a5bfbe7d7e/openedx/core/djangoapps/external_user_ids/models.py#L17</reference></paragraph>
            <paragraph>Anonymous User ID Table
                - <reference refuri="https://github.com/openedx/edx-platform/blob/6ee2089077b76581e14f230f0c9224757dbdb652/common/djangoapps/student/models.py#L130-L140">https://github.com/openedx/edx-platform/blob/6ee2089077b76581e14f230f0c9224757dbdb652/common/djangoapps/student/models.py#L130-L140</reference></paragraph>
            <paragraph>Some notes on why add a type table
                - <reference refuri="https://www.itprotoday.com/sql-server/trouble-type-tables">https://www.itprotoday.com/sql-server/trouble-type-tables</reference></paragraph>
        </section>
    </section>
</document>
