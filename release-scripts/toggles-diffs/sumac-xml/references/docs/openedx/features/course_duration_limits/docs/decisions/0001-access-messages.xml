<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.21.2 -->
<document source="/Users/sarinacanelake/static-clones/edx-platform/docs/references/docs/openedx/features/course_duration_limits/docs/decisions/0001-access-messages.rst" translation_progress="{'total': 0, 'translated': 0}" xmlns:c="https://www.sphinx-doc.org/" xmlns:changeset="https://www.sphinx-doc.org/" xmlns:citation="https://www.sphinx-doc.org/" xmlns:cpp="https://www.sphinx-doc.org/" xmlns:http="https://www.sphinx-doc.org/" xmlns:index="https://www.sphinx-doc.org/" xmlns:js="https://www.sphinx-doc.org/" xmlns:math="https://www.sphinx-doc.org/" xmlns:py="https://www.sphinx-doc.org/" xmlns:rst="https://www.sphinx-doc.org/" xmlns:std="https://www.sphinx-doc.org/">
    <section ids="pre-formatted-access-messages" names="1.\ pre-formatted\ access\ messages">
        <title>1. Pre-formatted Access Messages</title>
        <section ids="status" names="status">
            <title>Status</title>
            <paragraph>Accepted</paragraph>
        </section>
        <section ids="context" names="context">
            <title>Context</title>
            <paragraph>In <literal>course_duration_limits</literal>, we are adding a new permissions
                state that will restrict the user from entering the course.
                The point at which this condition is checked is deep within
                edx-platform, but the error message needs to display at the
                surface of the application. In order to preserve information
                display consistency, we want to receive the error message
                in the UI in a standard format. We can use <literal>AccessResponse.user_message</literal>
                to store that permission-specific error message. However,
                different pages require more or less context. In particular,
                when displaying an access error message inside the courseware,
                we donâ€™t need to specify the current course, but when displaying
                the same message on the course dashboard, we do.</paragraph>
        </section>
        <section ids="decision" names="decision">
            <title>Decision</title>
            <paragraph>We will add a field to <literal>AccessResponse</literal>, <literal>additional_context_user_message</literal>,
                which will be used in non-course-specific contexts (for
                <literal>course_duration_limits</literal>. The name is non-specific in order to enable it
                to be used more generally by other access-control schemes that might have
                different levels of context display needs.</paragraph>
        </section>
        <section ids="consequences" names="consequences">
            <title>Consequences</title>
            <paragraph><literal>AccessResponse</literal> messages can be more detailed, and more specific
                to the required context. The additional attribute on <literal>AccessResponse</literal>
                is somewhat vague, and potentially confusing to a new reader. Which additional
                context is relevant is not specified, so if we need more or different
                context (rather than just course-context), we will need to rework the
                current system or add more attributes.</paragraph>
        </section>
    </section>
</document>
