<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.21.2 -->
<document source="/Users/sarinacanelake/openedx/edx-platform/docs/references/docs/xmodule/modulestore/docs/split-mongo.rst" translation_progress="{'total': 0, 'translated': 0}" xmlns:c="https://www.sphinx-doc.org/" xmlns:changeset="https://www.sphinx-doc.org/" xmlns:citation="https://www.sphinx-doc.org/" xmlns:cpp="https://www.sphinx-doc.org/" xmlns:http="https://www.sphinx-doc.org/" xmlns:index="https://www.sphinx-doc.org/" xmlns:js="https://www.sphinx-doc.org/" xmlns:math="https://www.sphinx-doc.org/" xmlns:py="https://www.sphinx-doc.org/" xmlns:rst="https://www.sphinx-doc.org/" xmlns:std="https://www.sphinx-doc.org/">
    <target refid="split-mongo-modulestore"></target>
    <section dupnames="split\ mongo\ modulestore" ids="split-mongo-modulestore id1" names="split\ mongo\ modulestore">
        <title>Split Mongo Modulestore</title>
        <paragraph>See:</paragraph>
        <bullet_list bullet="*">
            <list_item>
                <paragraph><reference name="Overview" refid="overview">Overview</reference></paragraph>
            </list_item>
            <list_item>
                <paragraph><reference name="Split Mongo Data Model" refid="split-mongo-data-model">Split Mongo Data Model</reference></paragraph>
            </list_item>
            <list_item>
                <paragraph><reference name="Split Mongo Capabilities" refid="split-mongo-capabilities">Split Mongo Capabilities</reference></paragraph>
            </list_item>
        </bullet_list>
        <section ids="overview" names="overview">
            <title>Overview</title>
            <paragraph><emphasis>Split Mongo</emphasis> is the term used for the new edX modulestore. Split Mongo is
                built on mongoDB. For information about mongoDB, see the <reference name="mongoDB website" refuri="http://www.mongodb.org">mongoDB website</reference>.</paragraph>
            <paragraph>The “split” in Split Mongo refers to how a course is split into three types of
                information:</paragraph>
            <bullet_list bullet="*">
                <list_item>
                    <paragraph>The course identity, referred to as the course index</paragraph>
                </list_item>
                <list_item>
                    <paragraph>The course structure</paragraph>
                </list_item>
                <list_item>
                    <paragraph>The course content, referred to as XBlock definitions.</paragraph>
                </list_item>
            </bullet_list>
            <paragraph>This separation of identity, structure, and content enables course authors to
                use more advanced capabilities when developing and managing courses.</paragraph>
            <target ids="mongodb-website" names="mongodb\ website" refuri="http://www.mongodb.org"></target>
        </section>
        <section ids="split-mongo-data-model" names="split\ mongo\ data\ model">
            <title>Split Mongo Data Model</title>
            <paragraph>In the Split Mongo data model, edX courses are split into three collections:</paragraph>
            <bullet_list bullet="*">
                <list_item>
                    <paragraph><reference name="Course Index" refid="course-index">Course Index</reference></paragraph>
                </list_item>
                <list_item>
                    <paragraph><reference internal="True" refid="structures"><inline classes="std std-ref">Course Structures</inline></reference></paragraph>
                </list_item>
                <list_item>
                    <paragraph><reference name="XBlock Definitions" refid="xblock-definitions">XBlock Definitions</reference></paragraph>
                </list_item>
            </bullet_list>
            <comment xml:space="preserve">Structures link is a workaround; "Course Structures" as label is already taken</comment>
            <section ids="course-index" names="course\ index">
                <title>Course Index</title>
                <paragraph>The course index is a dictionary that stores course IDs. Each course ID points
                    to a course structure.</paragraph>
                <paragraph>The course index supports multiple branches of a course.  The index can store
                    multiple entries for a course ID, with each entry pointing to a different
                    course structure that corresponds to a different branch.</paragraph>
                <paragraph>As currently implemented, for each course, there is a branch for both the
                    published and draft versions of the course. The published and draft branches of
                    the course point to different structures.</paragraph>
                <paragraph>In the edX Platform:</paragraph>
                <bullet_list bullet="*">
                    <list_item>
                        <paragraph>Students using the LMS see and interact with the published version of the
                            course.</paragraph>
                    </list_item>
                    <list_item>
                        <paragraph>Course team members using edX Studio make changes to the draft version of
                            the course.</paragraph>
                        <bullet_list bullet="*">
                            <list_item>
                                <paragraph>When the user changes the course outline, display names, the course
                                    about page, course updates, other course pages, sections or subsections,
                                    the draft branch is automatically published; that is, it becomes the
                                    published branch.</paragraph>
                            </list_item>
                            <list_item>
                                <paragraph>For units and components, changes are saved in the draft branch. The user
                                    must publish the unit to change the draft branch to the published branch.
                                    When the user begins another set of changes, the draft branch is updated.</paragraph>
                            </list_item>
                        </bullet_list>
                    </list_item>
                </bullet_list>
                <section ids="course-reruns" names="course\ reruns">
                    <title>Course Reruns</title>
                    <paragraph>The edX Platform enables you to rerun a course.  When you rerun a course, a new
                        course index is created. The new course index points to the same course
                        structure as the original course index.</paragraph>
                    <target refid="structures"></target>
                </section>
            </section>
            <section ids="course-structures structures" names="course\ structures structures">
                <title>Course Structures</title>
                <paragraph>The course structure defines, or outlines, the content of a course.</paragraph>
                <paragraph>A course structure is made up of blocks in a tree data structure. Blocks are
                    objects in a course, such as the course itself, sections, subsections, and
                    units.  A block can reference other blocks; for example, a section references
                    one or more subsections. Each block has a unique ID that is generated by the
                    edX Platform.</paragraph>
                <paragraph>Each block in the course structure points to an XBlock definition. Different
                    blocks, in the same or in different structures, can point to the same
                    definition.</paragraph>
                <paragraph>Course structures, and each block within a structure, are versioned. That is,
                    when a course author changes a course, or a block in the course, a new course
                    structure is saved; the previous course structure, and previous versions of
                    blocks within the structure, remain in the database and are not modified.</paragraph>
            </section>
            <section ids="xblock-definitions" names="xblock\ definitions">
                <title>XBlock Definitions</title>
                <paragraph>XBlock definitions contain the content of each block. For some blocks, such as
                    sections and subsections, the definition consists of the block’s display name.
                    For components, such as HTML or problem components, the definition also
                    contains the content of the object. A definition can be referenced by multiple
                    blocks.</paragraph>
                <paragraph>XBlock definitions are versioned. That is, when a course author changes
                    content, a new XBlock definition for that object is saved; the previous
                    definition remains in the database and is not modified.</paragraph>
            </section>
        </section>
        <section ids="split-mongo-capabilities" names="split\ mongo\ capabilities">
            <title>Split Mongo Capabilities</title>
            <paragraph>The Split Mongo data model enables the edX Platform to implement advanced
                content management functionality. Specifically, Split Mongo is designed to
                enable:</paragraph>
            <bullet_list bullet="*">
                <list_item>
                    <paragraph><reference name="Multiple Course Branches" refid="multiple-course-branches">Multiple Course Branches</reference></paragraph>
                </list_item>
                <list_item>
                    <paragraph><reference name="Versioning" refid="versioning">Versioning</reference></paragraph>
                </list_item>
                <list_item>
                    <paragraph><reference name="Content Reuse" refid="content-reuse">Content Reuse</reference></paragraph>
                </list_item>
            </bullet_list>
            <paragraph>While these capabilities are not fully implemented in the edX Platform, Split
                Mongo is designed to allow future enhancements that enable these content
                management capabilities.</paragraph>
            <section ids="multiple-course-branches" names="multiple\ course\ branches">
                <title>Multiple Course Branches</title>
                <paragraph>Split Mongo enables multiple branches of a course. The <title_reference>course index &lt;Course
                        Index</title_reference>&gt;_ can have multiple entries for a course ID, each of which points to a
                    different structure.</paragraph>
                <paragraph>The edX Platform currently uses a draft and a published branch for a course.
                    Future enhancements may use other branches.</paragraph>
            </section>
            <section ids="versioning" names="versioning">
                <title>Versioning</title>
                <paragraph>In Split Mongo, every change to a course or a block within the course is saved,
                    with the time and user recorded.</paragraph>
                <paragraph>Versioning enables future enhancements such as allowing course authors to
                    revert a course or block to a previous version.</paragraph>
            </section>
            <section ids="content-reuse" names="content\ reuse">
                <title>Content Reuse</title>
                <paragraph>By using pointers to reference XBlock definitions from <reference internal="True" refid="structures"><inline classes="std std-ref">course structures</inline></reference>, Split Mongo enables content reuse. A single <reference name="XBlock definition" refuri="XBlockDefinition">XBlock
                        definition</reference><target ids="xblock-definition" names="xblock\ definition" refuri="XBlockDefinition"></target> can be referenced from multiple course
                    structures.</paragraph>
                <paragraph>Future enhancements to the edX Platform can allow course authors to reuse an
                    XBlock in multiple contexts, streamlining course development and maintenance.</paragraph>
            </section>
        </section>
    </section>
</document>
