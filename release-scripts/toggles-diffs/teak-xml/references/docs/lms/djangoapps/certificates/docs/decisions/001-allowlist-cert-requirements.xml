<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.21.2 -->
<document source="/Users/sarinacanelake/openedx/edx-platform/docs/references/docs/lms/djangoapps/certificates/docs/decisions/001-allowlist-cert-requirements.rst" translation_progress="{'total': 0, 'translated': 0}" xmlns:c="https://www.sphinx-doc.org/" xmlns:changeset="https://www.sphinx-doc.org/" xmlns:citation="https://www.sphinx-doc.org/" xmlns:cpp="https://www.sphinx-doc.org/" xmlns:http="https://www.sphinx-doc.org/" xmlns:index="https://www.sphinx-doc.org/" xmlns:js="https://www.sphinx-doc.org/" xmlns:math="https://www.sphinx-doc.org/" xmlns:py="https://www.sphinx-doc.org/" xmlns:rst="https://www.sphinx-doc.org/" xmlns:std="https://www.sphinx-doc.org/">
    <section ids="allowlist-course-certificate-requirements" names="allowlist\ course\ certificate\ requirements">
        <title>Allowlist Course Certificate Requirements</title>
        <section ids="status" names="status">
            <title>Status</title>
            <paragraph>Accepted</paragraph>
        </section>
        <section ids="background" names="background">
            <title>Background</title>
            <paragraph>This doc covers requirements for allowlist course certificates.</paragraph>
            <paragraph>Users can earn a course certificate in a particular course run (the certificate
                is stored in the <emphasis>GeneratedCertificate</emphasis> model). If a user has not earned a certificate
                but the course staff would like them to have a certificate anyway, the user can
                be added to the certificate allowlist for the course run.</paragraph>
            <paragraph>The allowlist is stored in the <emphasis>CertificateAllowlist</emphasis> model. It was previously
                referred to as the certificate whitelist, and was previously stored in the
                <emphasis>CertificateWhitelist</emphasis> model.</paragraph>
        </section>
        <section ids="requirements" names="requirements">
            <title>Requirements</title>
            <paragraph>Even if a user is on the allowlist for a given course run, they won’t necessarily
                receive a course certificate in the <emphasis>downloadable</emphasis> state. In other words, the user
                won’t necessarily have a course certificate available to them. To receive a
                downloadable allowlist course certificate, the following things must be true at
                the time the certificate is generated:</paragraph>
            <bullet_list bullet="*">
                <list_item>
                    <paragraph>The user must have an enrollment in the course run</paragraph>
                    <bullet_list bullet="*">
                        <list_item>
                            <paragraph>The enrollment mode must be eligible for a certificate</paragraph>
                        </list_item>
                        <list_item>
                            <paragraph>The enrollment does not need to be active</paragraph>
                        </list_item>
                    </bullet_list>
                </list_item>
                <list_item>
                    <paragraph>The user must not have an invalidated certificate for the course run (see the <emphasis>CertificateInvalidation</emphasis> model)</paragraph>
                </list_item>
                <list_item>
                    <paragraph>HTML (web) certificates must be globally enabled, and also enabled for the course run</paragraph>
                </list_item>
                <list_item>
                    <paragraph>The user must be on the allowlist for the course run (see the <emphasis>CertificateAllowlist</emphasis> model)</paragraph>
                </list_item>
                <list_item>
                    <paragraph>If the <title_reference>ENABLE_CERTIFICATES_IDV_REQUIREMENT</title_reference> WaffleFlag is enabled, a user must have an approved and unexpired ID verification.</paragraph>
                </list_item>
            </bullet_list>
        </section>
    </section>
</document>
