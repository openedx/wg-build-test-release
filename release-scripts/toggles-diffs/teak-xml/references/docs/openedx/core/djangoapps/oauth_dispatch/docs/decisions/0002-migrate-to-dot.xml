<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.21.2 -->
<document source="/Users/sarinacanelake/openedx/edx-platform/docs/references/docs/openedx/core/djangoapps/oauth_dispatch/docs/decisions/0002-migrate-to-dot.rst" translation_progress="{'total': 0, 'translated': 0}" xmlns:c="https://www.sphinx-doc.org/" xmlns:changeset="https://www.sphinx-doc.org/" xmlns:citation="https://www.sphinx-doc.org/" xmlns:cpp="https://www.sphinx-doc.org/" xmlns:http="https://www.sphinx-doc.org/" xmlns:index="https://www.sphinx-doc.org/" xmlns:js="https://www.sphinx-doc.org/" xmlns:math="https://www.sphinx-doc.org/" xmlns:py="https://www.sphinx-doc.org/" xmlns:rst="https://www.sphinx-doc.org/" xmlns:std="https://www.sphinx-doc.org/">
    <section ids="migrate-to-django-oauth-toolkit" names="2.\ migrate\ to\ django\ oauth\ toolkit">
        <title>2. Migrate to Django OAuth Toolkit</title>
    </section>
    <section ids="status" names="status">
        <title>Status</title>
        <paragraph>Accepted</paragraph>
    </section>
    <section ids="context" names="context">
        <title>Context</title>
        <paragraph>The edX LMS uses the <reference name="Django OAuth Provider (DOP)" refuri="https://github.com/caffeinehit/django-oauth2-provider">Django OAuth Provider (DOP)</reference> library in order to support
            the <reference name="OAuth2" refuri="https://tools.ietf.org/html/rfc6749">OAuth2</reference> provider protocol. However, that library is now unsupported and
            deprecated by the Django community. Additionally, the edX mobile apps, which are
            OAuth2 clients of the LMS, need the capability to refresh tokens, which DOP does
            not support for <reference name="Public Client" refuri="https://tools.ietf.org/html/rfc6749#section-2.1">Public Client</reference> types that use <reference name="Password Credentials grant" refuri="https://tools.ietf.org/html/rfc6749#section-4.3">Password Credentials grant</reference>.</paragraph>
        <target ids="oauth2" names="oauth2" refuri="https://tools.ietf.org/html/rfc6749"></target>
        <target ids="public-client" names="public\ client" refuri="https://tools.ietf.org/html/rfc6749#section-2.1"></target>
        <target ids="password-credentials-grant" names="password\ credentials\ grant" refuri="https://tools.ietf.org/html/rfc6749#section-4.3"></target>
        <target ids="django-oauth-provider-dop" names="django\ oauth\ provider\ (dop)" refuri="https://github.com/caffeinehit/django-oauth2-provider"></target>
    </section>
    <section ids="decision" names="decision">
        <title>Decision</title>
        <paragraph>Moving forward, we will use the <reference name="Django OAuth Toolkit (DOT)" refuri="https://github.com/evonove/django-oauth-toolkit">Django OAuth Toolkit (DOT)</reference> library and remove
            our use of DOP.</paragraph>
        <target ids="django-oauth-toolkit-dot" names="django\ oauth\ toolkit\ (dot)" refuri="https://github.com/evonove/django-oauth-toolkit"></target>
    </section>
    <section ids="consequences" names="consequences">
        <title>Consequences</title>
        <section ids="pluses" names="pluses">
            <title>Pluses</title>
            <bullet_list bullet="*">
                <list_item>
                    <paragraph>The <reference name="Django documentation recommends DOT" refuri="http://www.django-rest-framework.org/api-guide/authentication/#django-oauth-toolkit">Django documentation recommends DOT</reference> for OAuth 2.0 support, so there
                        should be ample support for it in the community.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>DOT uses the well maintained and recommended <reference name="OAuthLib" refuri="https://github.com/idan/oauthlib">OAuthLib</reference> library for the basic
                        OAuth flow so it has a solid crypto foundation.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>DOT is extensible, including its various polymorphic classes and configurable
                        settings.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>DOT seems to have the basic OAuth2 features that we will need for the
                        foreseeable future, including refresh tokens and scopes.</paragraph>
                </list_item>
            </bullet_list>
            <target ids="django-documentation-recommends-dot" names="django\ documentation\ recommends\ dot" refuri="http://www.django-rest-framework.org/api-guide/authentication/#django-oauth-toolkit"></target>
            <target ids="oauthlib" names="oauthlib" refuri="https://github.com/idan/oauthlib"></target>
        </section>
        <section ids="minuses" names="minuses">
            <title>Minuses</title>
            <bullet_list bullet="*">
                <list_item>
                    <paragraph>We need to remove all usages of DOP before we can remove the library.</paragraph>
                </list_item>
            </bullet_list>
        </section>
    </section>
</document>
